/*artTemplate - Syntax Extensions*/(function(e){var t=e.prototype,n=t.$forEach,r=Object.prototype.toString,i=Array.isArray||function(e){return r.call(e)==="[object Array]"};e.openTag="{",e.closeTag="}",e.parser=function(n){n=n.replace(/^\s/,"");var r=n.split(" "),i=r.shift(),s=e.keywords,o=s[i];return o&&s.hasOwnProperty(i)?(r=r.join(" "),n=o.call(n,r)):t.hasOwnProperty(i)?(r=r.join(","),n="="+i+"("+r+");"):n="=$escapeHTML("+n+")",n},e.keywords={"if":function(e){return"if("+e+"){"},"else":function(e){return e=e.split(" "),e.shift()==="if"?e=" if("+e.join(" ")+")":e="","}else"+e+"{"},"/if":function(){return"}"},each:function(e){e=e.split(" ");var t=e[0]||"$data",n=e[1]||"as",r=e[2]||"$value",i=e[3]||"$index",s=r+","+i;return n!=="as"&&(t="[]"),"$each("+t+",function("+s+"){"},"/each":function(){return"});"},echo:function(e){return"print("+e+");"},include:function(e){e=e.split(" ");var t=e[0],n=e[1];return"include("+t+","+n+");"}},e.helper("$each",function(e,t){if(i(e))n(e,t);else for(var r in e)t.call(e,e[r],r)}),e.helper("$escapeHTML",function(){var e=/&(?![\w#]+;)|[<>"']/g,t={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","&":"&amp;"},n=function(e){return t[e]};return function(t){return typeof t=="string"?t.replace(e,n):t}}())})(template)